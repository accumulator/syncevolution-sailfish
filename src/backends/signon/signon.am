dist_noinst_DATA += src/backends/signon/configure-sub.in

src_backends_signon_lib = src/backends/signon/providergsso.la
MOSTLYCLEANFILES += $(src_backends_signon_lib)

src_backends_signon_providergsso_la_SOURCES = \
  src/backends/signon/signon.cpp

if ENABLE_MODULES
src_backends_signon_backenddir = $(BACKENDS_DIRECTORY)
src_backends_signon_backend_LTLIBRARIES = $(src_backends_signon_lib)
src_backends_signon_providergsso_la_SOURCES += \
  src/backends/signon/signonRegister.cpp
else
noinst_LTLIBRARIES += $(src_backends_signon_lib)
endif

src_backends_signon_providergsso_la_LIBADD = $(GSSO_LIBS) $(SYNCEVOLUTION_LIBS) 
src_backends_signon_providergsso_la_LDFLAGS = -module -avoid-version
src_backends_signon_providergsso_la_CXXFLAGS = $(GSSO_CFLAGS) $(SYNCEVOLUTION_CFLAGS)
src_backends_signon_providergsso_la_CPPFLAGS = -I$(top_srcdir)/test $(BACKEND_CPPFLAGS)
src_backends_signon_providergsso_la_DEPENDENCIES = src/syncevo/libsyncevolution.la

